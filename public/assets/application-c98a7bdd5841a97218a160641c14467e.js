$(".popup").live("click",function(){$(this).next().toggle("300")}),jQuery.ajaxSetup({beforeend:function(e){e.setRequestHeader("Accept","text/javascript")}}),$(document).ready(function(){$(".loadingPrompt").live("click",function(){$(this).val("Just a sec..")}),$(".feedPlus").live("click",function(){$("div").removeClass("feed_nav_selected"),$(this).addClass("feed_nav_selected"),$(".homePageFeed").hide(),$("#follow_form").show(),$(".feed_remove").css("display","inline-block")}),$(".searchreset").live("click",function(){$(this).css("color","#000"),$(this).css("font-style","normal")}),$(".lightbox").find("i.icon-remove").live("click",function(){$(this).parent().hide(),$("div.overlay").hide()}),$("#abstract").live("click",function(){$("#abstract_short").hide(),$("#abstract_long").slideToggle(300)}),$(".abstract").live("click",function(){$(this).parent().parent().find(".abstract_long").slideToggle(300)}),$(".list_abstract").live("click",function(){$(this).parent().parent().parent().find(".abstract_long").slideToggle(300)}),$(".citation_link").live("click",function(){$(this).parent().parent().find(".citation").slideToggle(300)}),$("#blogs").find("h4").click(function(){$(this).next().slideToggle(300)}),$("a.quick_comment").click(function(){$("div.quick_question").hide(300),$("div.quick_comment").show(300)}),$("a.quick_question").click(function(){$("div.quick_comment").hide(300),$("div.quick_question").show(300)}),$(".quickform input").live("click",function(){$(this).css("color","#000"),$(this).css("font-style","normal")}),$(".quickform form").live("submit",function(){$(this).parent().hide(),$(this).parent().next().show()}),$(".leave_reaction").live("click",function(){$(this).hide(),$(this).parent().parent().find("h5").toggle(),$(this).parent().parent().find(".toggle").css("display","inline-block")}),$(".overview_open").live("click",function(){$(this).find("img").toggle(),$(this).next().slideToggle(300)}),$(".sharelink").live("click",function(){$(this).parent().parent().parent().find("div.sharebox").show()}),$("div.share_button_text").live("click",function(){$(this).parent().find("div.share_button_form").show(),$("div.overlay").show("")}),$("div.share_form").find(":input").live("click",function(){"Check this out!"==$(this).val()&&$(this).val("")}),$(".anon_learn_more").live("click",function(){$(this).parent().next().toggle()}),$("div.figtoggle").live("click",function(){$(this).next().toggle(300),$(this).find("img").toggle()}),$("li.replylink").live("click",function(){$("div.answerform").hide("slow"),$(this).parent().parent().parent().find("div.replyform").slideToggle(300)}),$("nav li.answerlink").live("click",function(){$("div.replyform").hide("slow"),$(this).parent().parent().parent().find("div.answerform").slideToggle()}),$(".summary img.thumbnail").live("click",function(){$(this).parent().next().find(".fullfig").slideToggle()}),$("div.add_figs_and_sections").live("click",function(){$(this).parent().find("div.numselect").slideToggle(),$(this).find("img").toggle()}),$("div#add_figs_link").live("click",function(){$(this).hide(300),$("div#add_figs").show(300)}),$(".fig_upload").live("click",function(){$(this).parent().find("div.upload_form").show()}),$(".editme").live("click",function(){$(this).hide(),$(this).next().css("display","inline")}),$("div.latest_assertion.editme, p.method.editme").live("click",function(){$.post($(this).parent().find("form.improvelist").first().attr("action"),$(this).parent().find("form.improvelist").first().serialize(),null,"script")}),$("#assertion_text, #assertion_method_text").live("click",function(){("What are the authors"==$(this).val().substring(0,20)||"Separate methods with commas (e.g. western blot, QPCR, etc.)"==$(this).val()||"What are alternate approaches?"==$(this).val()||"Please provide a brief summary of this paper readable to a scientist outside of this field."==$(this).val()||"What are alternate approaches?"==$(this).val().substring(0,27))&&$(this).val("")}),$("#expandSignup").click(function(){$("#signup").toggle("300")}),$("body").bind("ajax:error",function(){location.reload()}),$(".dropdown-toggle").live("click",function(){$(this).next().toggle("300")}),$(".folderAdd").live("click",function(){$(this).next().toggle()}),$("#slides").slides({preload:!0,preloadImage:"assets/loading.gif",play:9e3,pause:2500,hoverPause:!0,animationStart:function(e){$(".caption").animate({bottom:-35},100),window.console&&console.log&&console.log("animationStart on slide: ",e)},animationComplete:function(e){$(".caption").animate({bottom:0},200),window.console&&console.log&&console.log("animationComplete on slide: ",e)},slidesLoaded:function(){$(".caption").animate({bottom:0},200)}}),$("div.fig_numselect, div.figsection_numselect").hover(function(){$(this).css("background","#fff")},function(){$(this).css("background","none")}),$(".deadLink").live("click",function(e){return e.preventDefault(),!1}),$(".flash").delay("5000").fadeOut("slow")}),function(e,t){var i;e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not(button[type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},fire:function(t,i,n){var a=e.Event(i);return t.trigger(a,n),a.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var a,o,l,r,s,c;if(i.fire(n,"ajax:before")){if(r=n.data("cross-domain")||null,s=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){a=n.attr("method"),o=n.attr("action"),l=n.serializeArray();var d=n.data("ujs:submit-button");d&&(l.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(a=n.data("method"),o=n.data("url"),l=n.serialize(),n.data("params")&&(l=l+"&"+n.data("params"))):(a=n.data("method"),o=i.href(n),l=n.data("params")||null);return c={type:a||"GET",data:l,dataType:s,crossDomain:r,beforeSend:function(e,a){return a.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),i.fire(n,"ajax:beforeSend",[e,a])},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])}},o&&(c.url=o),i.ajax(c)}return!1},handleMethod:function(n){var a=i.href(n),o=n.data("method"),l=n.attr("target"),r=e("meta[name=csrf-token]").attr("content"),s=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+a+'"></form>'),d='<input name="_method" value="'+o+'" type="hidden" />';s!==t&&r!==t&&(d+='<input name="'+s+'" value="'+r+'" type="hidden" />'),l&&c.attr("target",l),c.hide().append(d).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(i.disableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with",t[i]()),t[i](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(i.enableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[i](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,n=e.data("confirm"),a=!1;return n?(i.fire(e,"confirm")&&(a=i.confirm(n),t=i.fire(e,"confirm:complete",[a])),a&&t):!0},blankInputs:function(t,i,n){var a,o=e(),l=i||"input,textarea";return t.find(l).each(function(){a=e(this),(n?a.val():!a.val())&&(o=o.add(a))}),o.length?o:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,n){var a=i.data("events"),o=!0;return a!==t&&a.submit!==t&&e.each(a.submit,function(e,t){return"function"==typeof t.handler?o=t.handler(n):void 0}),o},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),e(document).delegate(i.linkClickSelector,"click.rails",function(n){var a=e(this),o=a.data("method"),l=a.data("params");return i.allowAction(a)?(a.is(i.linkDisableSelector)&&i.disableElement(a),a.data("remote")!==t?!n.metaKey&&!n.ctrlKey||o&&"GET"!==o||l?(i.handleRemote(a)===!1&&i.enableElement(a),!1):!0:a.data("method")?(i.handleMethod(a),!1):void 0):i.stopEverything(n)}),e(document).delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),e(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var a=e(this),o=a.data("remote")!==t,l=i.blankInputs(a,i.requiredInputSelector),r=i.nonBlankInputs(a,i.fileInputSelector);return i.allowAction(a)?l&&a.attr("novalidate")==t&&i.fire(a,"ajax:aborted:required",[l])?i.stopEverything(n):o?r?i.fire(a,"ajax:aborted:file",[r]):!e.support.submitBubbles&&"1.7">e().jquery&&i.callFormSubmitBindings(a,n)===!1?i.stopEverything(n):(i.handleRemote(a),!1):(setTimeout(function(){i.disableFormElements(a)},13),void 0):i.stopEverything(n)}),e(document).delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var a=n.attr("name"),o=a?{name:a,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),e(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),e(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)})}(jQuery),function(e){e.fn.slides=function(t){return t=e.extend({},e.fn.slides.option,t),this.each(function(){function i(i,n,a){if(!l&&o){switch(l=!0,t.animationStart(S+1),i){case"next":x=S,k=S+1,k=p===k?0:k,s=2*m,i=2*-m,S=k;break;case"prev":x=S,k=S-1,k=-1===k?p-1:k,s=0,i=0,S=k;break;case"pagination":k=parseInt(a,10),x=e("."+t.paginationClass+" li."+t.currentClass+" a",f).attr("href").match("[^#/]+$"),k>x?(s=2*m,i=2*-m):(s=0,i=0),S=k}"fade"===n?t.crossfade?h.children(":eq("+k+")",f).css({zIndex:10}).fadeIn(t.fadeSpeed,t.fadeEasing,function(){t.autoHeight?h.animate({height:h.children(":eq("+k+")",f).outerHeight()},t.autoHeightSpeed,function(){h.children(":eq("+x+")",f).css({display:"none",zIndex:0}),h.children(":eq("+k+")",f).css({zIndex:0}),t.animationComplete(k+1),l=!1}):(h.children(":eq("+x+")",f).css({display:"none",zIndex:0}),h.children(":eq("+k+")",f).css({zIndex:0}),t.animationComplete(k+1),l=!1)}):h.children(":eq("+x+")",f).fadeOut(t.fadeSpeed,t.fadeEasing,function(){t.autoHeight?h.animate({height:h.children(":eq("+k+")",f).outerHeight()},t.autoHeightSpeed,function(){h.children(":eq("+k+")",f).fadeIn(t.fadeSpeed,t.fadeEasing)}):h.children(":eq("+k+")",f).fadeIn(t.fadeSpeed,t.fadeEasing,function(){e.browser.msie&&e(this).get(0).style.removeAttribute("filter")}),t.animationComplete(k+1),l=!1}):(h.children(":eq("+k+")").css({left:s,display:"block"}),t.autoHeight?h.animate({left:i,height:h.children(":eq("+k+")").outerHeight()},t.slideSpeed,t.slideEasing,function(){h.css({left:-m}),h.children(":eq("+k+")").css({left:m,zIndex:5}),h.children(":eq("+x+")").css({left:m,display:"none",zIndex:0}),t.animationComplete(k+1),l=!1}):h.animate({left:i},t.slideSpeed,t.slideEasing,function(){h.css({left:-m}),h.children(":eq("+k+")").css({left:m,zIndex:5}),h.children(":eq("+x+")").css({left:m,display:"none",zIndex:0}),t.animationComplete(k+1),l=!1})),t.pagination&&(e("."+t.paginationClass+" li."+t.currentClass,f).removeClass(t.currentClass),e("."+t.paginationClass+" li:eq("+k+")",f).addClass(t.currentClass))}}function n(){clearInterval(f.data("interval"))}function a(){t.pause?(clearTimeout(f.data("pause")),clearInterval(f.data("interval")),d=setTimeout(function(){clearTimeout(f.data("pause")),u=setInterval(function(){i("next",b)},t.play),f.data("interval",u)},t.pause),f.data("pause",d)):n()}e("."+t.container,e(this)).children().wrapAll('<div class="slides_control"/>');var o,l,r,s,c,d,u,f=e(this),h=e(".slides_control",f),p=h.children().size(),m=h.children().outerWidth(),g=h.children().outerHeight(),v=t.start-1,b=0>t.effect.indexOf(",")?t.effect:t.effect.replace(" ","").split(",")[0],$=0>t.effect.indexOf(",")?b:t.effect.replace(" ","").split(",")[1],k=0,x=0,y=0,S=0;if(2>p)return e("."+t.container,e(this)).fadeIn(t.fadeSpeed,t.fadeEasing,function(){o=!0,t.slidesLoaded()}),e("."+t.next+", ."+t.prev).fadeOut(0),!1;if(!(2>p)){if(0>v&&(v=0),v>p&&(v=p-1),t.start&&(S=v),t.randomize&&h.randomize(),e("."+t.container,f).css({overflow:"hidden",position:"relative"}),h.children().css({position:"absolute",top:0,left:h.children().outerWidth(),zIndex:0,display:"none"}),h.css({position:"relative",width:3*m,height:g,left:-m}),e("."+t.container,f).css({display:"block"}),t.autoHeight&&(h.children().css({height:"auto"}),h.animate({height:h.children(":eq("+v+")").outerHeight()},t.autoHeightSpeed)),t.preload&&h.find("img:eq("+v+")").length){e("."+t.container,f).css({background:"url("+t.preloadImage+") no-repeat 50% 50%"});var w=h.find("img:eq("+v+")").attr("src")+"?"+(new Date).getTime();c="slides_control"!=e("img",f).parent().attr("class")?h.children(":eq(0)")[0].tagName.toLowerCase():h.find("img:eq("+v+")"),h.find("img:eq("+v+")").attr("src",w).load(function(){h.find(c+":eq("+v+")").fadeIn(t.fadeSpeed,t.fadeEasing,function(){e(this).css({zIndex:5}),e("."+t.container,f).css({background:""}),o=!0,t.slidesLoaded()})})}else h.children(":eq("+v+")").fadeIn(t.fadeSpeed,t.fadeEasing,function(){o=!0,t.slidesLoaded()});t.bigTarget&&(h.children().css({cursor:"pointer"}),h.children().live("click",function(){return i("next",b),!1})),t.hoverPause&&t.play&&(h.bind("mouseover",function(){n()}),h.bind("mouseleave",function(){a()})),t.generateNextPrev&&(e("."+t.container,f).after('<a href="#" class="'+t.prev+'">Prev</a>'),e("."+t.prev,f).after('<a href="#" class="'+t.next+'">Next</a>')),e("."+t.next,f).live("click",function(e){e.preventDefault(),t.play&&a(),i("next",b)}),e("."+t.prev,f).live("click",function(e){e.preventDefault(),t.play&&a(),i("prev",b)}),t.generatePagination?(t.prependPagination?f.prepend("<ul class="+t.paginationClass+"></ul>"):f.append("<ul class="+t.paginationClass+"></ul>"),h.children().each(function(){e("."+t.paginationClass,f).append('<li><a href="#'+y+'">'+(y+1)+"</a></li>"),y++})):e("."+t.paginationClass+" li a",f).each(function(){e(this).attr("href","#"+y),y++}),e("."+t.paginationClass+" li:eq("+v+")",f).addClass(t.currentClass),e("."+t.paginationClass+" li a",f).live("click",function(){return t.play&&a(),r=e(this).attr("href").match("[^#/]+$"),S!=r&&i("pagination",$,r),!1}),e("a.link",f).live("click",function(){return t.play&&a(),r=e(this).attr("href").match("[^#/]+$")-1,S!=r&&i("pagination",$,r),!1}),t.play&&(u=setInterval(function(){i("next",b)},t.play),f.data("interval",u))}})},e.fn.slides.option={preload:!1,preloadImage:"/assets/loading.gif",container:"slides_container",generateNextPrev:!1,next:"next",prev:"prev",pagination:!0,generatePagination:!0,prependPagination:!1,paginationClass:"slideshow_pagination",currentClass:"current",fadeSpeed:350,fadeEasing:"",slideSpeed:350,slideEasing:"",start:1,effect:"slide",crossfade:!1,randomize:!1,play:0,pause:0,hoverPause:!1,autoHeight:!1,autoHeightSpeed:350,bigTarget:!1,animationStart:function(){},animationComplete:function(){},slidesLoaded:function(){}},e.fn.randomize=function(t){function n(){return Math.round(Math.random())-.5}return e(this).each(function(){var a=e(this),o=a.children(),l=o.length;if(l>1){o.hide();var r=[];for(i=0;l>i;i++)r[r.length]=i;r=r.sort(n),e.each(r,function(e,i){var n=o.eq(i),l=n.clone(!0);l.show().appendTo(a),void 0!==t&&t(n,l),n.remove()})}})}}(jQuery);